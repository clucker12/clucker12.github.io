---
title: "[ë°±ì¤€ 14500] - í…ŒíŠ¸ë¡œë¯¸ë…¸ ë¬¸ì œ í’€ì´ - Java í’€ì´"
date: 2025-09-17
categories: [Baekjoon, Java]
tags: [ë¸Œë£¨íŠ¸í¬ìŠ¤, DFS, êµ¬í˜„, ë°±ì¤€]
layout: single
author_profile: true
read_time: true
share: true
show_tags: true
show_categories: true
toc: true
sidebar:
  nav: "c"
---

## ë¬¸ì œ ì„¤ëª…

NÃ—M ì¢…ì´ ìœ„ì— í…ŒíŠ¸ë¡œë¯¸ë…¸ë¥¼ ë†“ì•„ ê·¸ ì•ˆì— ì íŒ ìˆ˜ë“¤ì˜ í•©ì„ ìµœëŒ€ë¡œ ë§Œë“œëŠ”
ë¬¸ì œì…ë‹ˆë‹¤. DFSë¡œ íƒìƒ‰ ê°€ëŠ¥í•œ ëª¨ë“  ëª¨ì–‘ì„ ì°¾ê³ , DFSë¡œ ë§Œë“¤ ìˆ˜ ì—†ëŠ”
ã…—,ã…œ,ã…“,ã… ëª¨ì–‘ì„ ë³„ë„ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.

## ğŸ’» ì½”ë“œ

```java
package Baekjoon;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class baekjoon14500 {
    // ì¢…ì´ì˜ í¬ê¸° (í–‰: N, ì—´: M)
    static int N, M;

    // ê° ì¹¸ì— ì íŒ ìˆ«ì
    static int[][] point;

    // DFS íƒìƒ‰ ì‹œ ë°©ë¬¸ ì—¬ë¶€ ì²´í¬ìš©
    static boolean[][] visited;

    // ìµœëŒ€ í•©ì„ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
    static int max = 0;

    // ìƒ, í•˜, ì¢Œ, ìš° ë°©í–¥ ì´ë™
    static int[] dx = {-1, 1, 0, 0};  // xì¶• ë°©í–¥
    static int[] dy = {0, 0, -1, 1};  // yì¶• ë°©í–¥

    // DFSë¡œ ë§Œë“¤ ìˆ˜ ì—†ëŠ” ì˜ˆì™¸ ëª¨ì–‘ (ã…—, ã…œ, ã…“, ã…)
    static int[][][] shapes = {
            {{0, 0}, {-1, 0}, {0, -1}, {0, 1}}, // ã…—
            {{0, 0}, {1, 0}, {0, -1}, {0, 1}},  // ã…œ
            {{0, 0}, {-1, 0}, {1, 0}, {0, -1}}, // ã…“
            {{0, 0}, {-1, 0}, {1, 0}, {0, 1}}   // ã…
    };

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        // ì…ë ¥: N(í–‰), M(ì—´)
        st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());

        // ë°°ì—´ ì´ˆê¸°í™”
        point = new int[N][M];
        visited = new boolean[N][M];

        // ê° ì¹¸ì— ìˆ«ì ì…ë ¥ë°›ê¸°
        for (int i = 0; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < M; j++) {
                point[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        // ëª¨ë“  ì¢Œí‘œì—ì„œ í…ŒíŠ¸ë¡œë¯¸ë…¸ í•˜ë‚˜ë¥¼ ë†“ëŠ” ì‹œë„
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < M; j++) {
                // ì‹œì‘ì  ë°©ë¬¸ ì²˜ë¦¬ í›„ DFS íƒìƒ‰
                visited[i][j] = true;
                dfs(i, j, 1, point[i][j]);
                visited[i][j] = false;

                // DFSë¡œ ë§Œë“¤ ìˆ˜ ì—†ëŠ” ì˜ˆì™¸ ëª¨ì–‘ ì²´í¬ (ã…— ëª¨ì–‘ ê³„ì—´)
                checkExtraShapes(i, j);
            }
        }

        // ìµœëŒ€í•© ì¶œë ¥
        System.out.println(max);
    }

    // DFSë¡œ ê¹Šì´ 4ê¹Œì§€ íƒìƒ‰ (ì—°ê²°ëœ 4ì¹¸)
    static void dfs(int x, int y, int depth, int sum) {
        if (depth == 4) {
            // 4ì¹¸ ë‹¤ ì±„ì› ìœ¼ë©´ ìµœëŒ€ê°’ ê°±ì‹ 
            max = Math.max(sum, max);
            return;
        }

        // ìƒí•˜ì¢Œìš° 4ë°©í–¥ íƒìƒ‰
        for (int i = 0; i < 4; i++) {
            int nx = x + dx[i];
            int ny = y + dy[i];

            // ë²”ìœ„ ë²—ì–´ë‚˜ë©´ ë¬´ì‹œ
            if (nx < 0 || ny < 0 || nx >= N || ny >= M) {
                continue;
            }

            // ì´ë¯¸ ë°©ë¬¸í•œ ì¹¸ì€ ë¬´ì‹œ
            if (visited[nx][ny]) continue;

            // ë°©ë¬¸ í‘œì‹œ í›„ ì¬ê·€ í˜¸ì¶œ
            visited[nx][ny] = true;
            dfs(nx, ny, depth + 1, sum + point[nx][ny]);
            visited[nx][ny] = false; // ë°±íŠ¸ë˜í‚¹
        }
    }

    // DFSë¡œ ë§Œë“¤ ìˆ˜ ì—†ëŠ” ì˜ˆì™¸ ëª¨ì–‘ë“¤(ã…—, ã…œ, ã…“, ã…)ì„ ì²´í¬
    static void checkExtraShapes(int x, int y) {
        for (int[][] shape : shapes) { // ê° ëª¨ì–‘ì— ëŒ€í•´
            int sum = 0;
            boolean isValid = true;

            for (int[] block : shape) { // ê° ë¸”ë¡ ì¢Œí‘œ í™•ì¸
                int nx = x + block[0];
                int ny = y + block[1];

                // ì¢…ì´ ë°–ì´ë©´ ì´ ëª¨ì–‘ì€ ë¬´ì‹œ
                if (nx < 0 || ny < 0 || nx >= N || ny >= M) {
                    isValid = false;
                    break;
                }

                // í•©ì‚°
                sum += point[nx][ny];
            }

            // ìœ íš¨í•œ ëª¨ì–‘ì¼ ê²½ìš° ìµœëŒ€ê°’ ê°±ì‹ 
            if (isValid) {
                max = Math.max(max, sum);
            }
        }
    }
}

```

## ğŸ”‘ í•µì‹¬ ë¡œì§ ë° ìë£Œêµ¬ì¡°

- **DFS íƒìƒ‰**: 4ì¹¸ì„ ê¹Šì´ ìš°ì„ ìœ¼ë¡œ íƒìƒ‰í•˜ì—¬ ëŒ€ë¶€ë¶„ì˜ í…ŒíŠ¸ë¡œë¯¸ë…¸
  ëª¨ì–‘ì„ íƒìƒ‰.
- **ì˜ˆì™¸ ëª¨ì–‘ ì²˜ë¦¬**: ã…—,ã…œ,ã…“,ã… ëª¨ì–‘ì€ DFSë¡œ ë§Œë“¤ ìˆ˜ ì—†ì–´ ë³„ë„ì˜
  ì¢Œí‘œ ë°°ì—´(`shapes`)ì„ ë‘ê³  í•©ì„ ê³„ì‚°.
- **visited ë°°ì—´**: ë°©ë¬¸ ì²´í¬ë¡œ ê²½ë¡œ ì¤‘ë³µ ë°©ì§€.
- **dx, dy ë°°ì—´**: ìƒí•˜ì¢Œìš° íƒìƒ‰ì„ ìœ„í•œ ë°©í–¥ ë°°ì—´.

## ì‹œê°„ ë³µì¡ë„

- DFS: ê° ì¹¸ë§ˆë‹¤ 4ë°©í–¥ ìµœëŒ€ 4\^4ì˜ íƒìƒ‰ â†’ O(N*M*4\^4)
- ì˜ˆì™¸ ëª¨ì–‘: ê° ì¹¸ë§ˆë‹¤ 4ê°œ ëª¨ì–‘ ê³ ì • â†’ O(N\*M)
- ì „ì²´: O(N\*M) ë‚´ì—ì„œ ì¶©ë¶„íˆ ì²˜ë¦¬ ê°€ëŠ¥.

## ğŸ’¡ ëŠë‚€ì 

ì´ ë¬¸ì œëŠ” ëª¨ë“  í…ŒíŠ¸ë¡œë¯¸ë…¸ë¥¼ íƒìƒ‰í•˜ê¸° ìœ„í•´ DFSë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•˜ë‹¤ëŠ” ì ì´
í•µì‹¬ì´ì—ˆìŠµë‹ˆë‹¤. íŠ¹íˆ ã…—ì ëª¨ì–‘ì€ DFS ê²½ë¡œë¡œ í‘œí˜„ì´ ì–´ë ¤ì›Œ ë³„ë„ ì²˜ë¦¬ê°€
í•„ìš”í•˜ë‹¤ëŠ” ì•„ì´ë””ì–´ê°€ ì¤‘ìš”í–ˆìŠµë‹ˆë‹¤. ë‹¨ìˆœ ì™„ì „ íƒìƒ‰ì´ì§€ë§Œ ëª¨ì–‘ì˜ íŠ¹ì„±ì„
íŒŒì•…í•˜ê³  ë³´ì™„í•˜ëŠ” ì‚¬ê³ ê°€ í•„ìš”í–ˆìŠµë‹ˆë‹¤. DFS ë°±íŠ¸ë˜í‚¹ê³¼ ë¸Œë£¨íŠ¸í¬ìŠ¤ì˜
ì¡°í•©ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.
